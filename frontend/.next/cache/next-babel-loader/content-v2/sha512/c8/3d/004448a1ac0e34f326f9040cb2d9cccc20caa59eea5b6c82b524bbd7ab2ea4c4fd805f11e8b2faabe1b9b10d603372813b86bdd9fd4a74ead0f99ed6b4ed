{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/benaiahvarner/Documents/wesbos/advanced-react/Advanced-React/sick-fits/frontend/pages/Orders.js\";\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport OrderStyles from '../components/styles/OrderStyles';\nimport OrderItemStyles from '../components/styles/OrderItemStyles';\nimport ErrorMessage from '../components/ErrorMessage';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport formatMoney from '../lib/formatMoney';\nimport styled from 'styled-components';\nconst USER_ORDERS_QUERY = gql`\n  query USER_ORDERS_QUERY {\n    allOrders {\n      id\n      charge\n      total\n      user {\n          id\n      }\n      items {\n        id\n        name\n        description\n        price\n        quantity\n        photo {\n          image {\n            publicUrlTransformed\n          }\n        }\n      }\n    }\n  }\n`;\nconst OrderUl = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n    grid-gap: 4rem;\n`;\n\nconst CountItemsInAnOrder = order => {\n  return order.items.reduce((tally, item) => tally + item.quantity);\n};\n\nexport default function OrdersPage() {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(USER_ORDERS_QUERY);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 16\n    }, this);\n  }\n\n  const {\n    allOrders\n  } = data;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: [\"Your Orders (\", allOrders.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"You have \", allOrders.length, \" orders!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(OrderUl, {\n      children: allOrders.map(order => {\n        /*#__PURE__*/\n        _jsxDEV(OrderItemStyles, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: `/order/${order.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: formatMoney(order.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 6\n  }, this);\n}\n;","map":{"version":3,"sources":["/Users/benaiahvarner/Documents/wesbos/advanced-react/Advanced-React/sick-fits/frontend/pages/Orders.js"],"names":["gql","useQuery","OrderStyles","OrderItemStyles","ErrorMessage","Head","Link","formatMoney","styled","USER_ORDERS_QUERY","OrderUl","div","CountItemsInAnOrder","order","items","reduce","tally","item","quantity","OrdersPage","data","loading","error","allOrders","length","map","id","total"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,MAAMC,iBAAiB,GAAGT,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAvBA;AAyBA,MAAMU,OAAO,GAAGF,MAAM,CAACG,GAAI;AAC3B;AACA;AACA;AACA,CAJA;;AAMA,MAAMC,mBAAmB,GAAIC,KAAD,IAAW;AACnC,SAAOA,KAAK,CAACC,KAAN,CAAYC,MAAZ,CAAmB,CAACC,KAAD,EAAQC,IAAR,KAAiBD,KAAK,GAAGC,IAAI,CAACC,QAAjD,CAAP;AACH,CAFD;;AAIA,eAAe,SAASC,UAAT,GAAsB;AACjC,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA2BrB,QAAQ,CAACQ,iBAAD,CAAzC;;AAEA,MAAGY,OAAH,EAAY;AACR,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAGC,KAAH,EAAU;AACN,wBAAO,QAAC,YAAD;AAAc,MAAA,KAAK,EAAEA;AAArB;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,QAAM;AAAEC,IAAAA;AAAF,MAAgBH,IAAtB;AAEF,sBACG;AAAA,4BACI,QAAC,IAAD;AAAA,6BACI;AAAA,oCAAqBG,SAAS,CAACC,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAA,8BAAcD,SAAS,CAACC,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI,QAAC,OAAD;AAAA,gBACKD,SAAS,CAACE,GAAV,CAAcZ,KAAK,IAAI;AACpB;AAAA,gBAAC,eAAD;AAAA,iCACI,QAAC,IAAD;AAAM,YAAA,IAAI,EAAG,UAASA,KAAK,CAACa,EAAG,EAA/B;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,YAAf;AAAA,sCACG;AAAA;AAAA;AAAA;AAAA,sBADH,eAEI;AAAA,0BAAInB,WAAW,CAACM,KAAK,CAACc,KAAP;AAAf;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAQH,OATA;AADL;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADH;AAoBD;AAAA","sourcesContent":["import gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport OrderStyles from '../components/styles/OrderStyles';\nimport OrderItemStyles from '../components/styles/OrderItemStyles';\nimport ErrorMessage from '../components/ErrorMessage';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport formatMoney from '../lib/formatMoney'\nimport styled from 'styled-components';\n\nconst USER_ORDERS_QUERY = gql`\n  query USER_ORDERS_QUERY {\n    allOrders {\n      id\n      charge\n      total\n      user {\n          id\n      }\n      items {\n        id\n        name\n        description\n        price\n        quantity\n        photo {\n          image {\n            publicUrlTransformed\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst OrderUl = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n    grid-gap: 4rem;\n`;\n\nconst CountItemsInAnOrder = (order) => {\n    return order.items.reduce((tally, item) => tally + item.quantity)\n}\n\nexport default function OrdersPage() {\n    const { data, loading, error } = useQuery(USER_ORDERS_QUERY)\n\n    if(loading) {\n        return <p>Loading...</p>\n    }\n\n    if(error) {\n        return <ErrorMessage error={error} />\n    }\n\n    const { allOrders } = data;\n\n  return (\n     <div>\n         <Head>\n             <title>Your Orders ({allOrders.length})</title>\n         </Head>\n         <h2>You have {allOrders.length} orders!</h2>\n         <OrderUl>\n             {allOrders.map(order => {\n                 <OrderItemStyles>\n                     <Link href={`/order/${order.id}`}>\n                         <div className=\"order-meta\">\n                            <p>{}</p>\n                             <p>{formatMoney(order.total)}</p>\n                         </div>\n                     </Link>\n                 </OrderItemStyles>\n             })}\n         </OrderUl>\n     </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}